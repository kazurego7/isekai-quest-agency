= 異世界クエスト斡旋アプリ(isekai-quest-agency)
:toc: left

== プロダクトビジョン

近年、冒険者の増加と依頼件数の急拡大により、ギルドの業務は従来の紙帳簿や口頭伝達では処理しきれなくなっている。
依頼書の紛失や重複登録、受注情報の更新遅れによる依頼の取り違え、納品記録の漏れなど、ミスが目立つようになり、関係者の負担が増している。

異世界クエスト斡旋アプリは、こうした問題を解消するために、
「依頼者」「受付嬢」「冒険者」の間で行われる以下の業務を一元的に管理するためのアプリケーションである。

* 依頼の登録
* 依頼内容の確認およびクエスト化
* クエストの受注・遂行・完了
* 素材納品と買い取り

情報をアプリ上で共有・更新できるようにすることで、認識のズレや作業ミスを防ぎ、ギルド運営全体の効率と正確性を高めることを目指す。

== ロール（役割）

* **依頼者（Requester）**  
  クエストの元となる依頼を登録する。

* **受付嬢（Receptionist）**  
  登録された依頼を確認し、クエスト票として整形する。

* **冒険者（Adventurer）**  
  公開されたクエストを受注し、遂行・完了報告を行う。

* **素材鑑定士（Appraiser）**  
  納品素材の鑑定を行う。

== プロダクトバックログ（大分類）

* 依頼の作成
* 依頼内容の確認およびクエスト化
* クエスト一覧表示・受注
* クエスト遂行・完了報告
* クエスト達成確認記録
* 素材納品申請
* 素材鑑定・報酬額設定
* 素材買い取り記録
* ユーザー管理（ロール設定）
* 通知
* ログ・履歴管理

== ユーザーストーリー

=== クエストフロー

[cols="1,1,5,5"]
|===
|ID |ロール |行動（〜したい） |目的（〜するため）

|US-01
|依頼者
|依頼票を作成したい
|クエスト化の起点として依頼内容を正式に登録するため

|US-02
|受付嬢
|依頼内容を確認し、クエスト票を作成したい
|冒険者が受注判断できる情報に整えるため

|US-03
|冒険者
|募集中のクエスト一覧を閲覧したい
|受注判断の材料を得るため

|US-04
|冒険者
|クエストを受注したい
|担当を確定させ、作業開始できる状態にするため

|US-05
|冒険者
|完了報告を登録したい
|対応結果を共有し、達成確認に進めるため

|US-09
|受付嬢
|完了報告を確認し、達成確認を記録したい
|依頼の達成状況を明確にし、後続処理の起点にするため

|US-10
|依頼者
|クエスト完了の通知を受け取りたい
|対応結果を把握するため
|===

=== 素材納品フロー

[cols="1,1,5,5"]
|===
|ID |ロール |行動（〜したい） |目的（〜するため）

|US-06
|冒険者
|採取素材を納品申請したい
|鑑定と買い取りに進めるため

|US-07
|素材鑑定士
|納品素材を鑑定し、報酬額を設定したい
|適正価格で買い取る根拠を残すため

|US-08
|受付嬢
|買い取りを記録したい
|鑑定結果に基づく買い取り状況を管理するため
|===

== ストーリーマッピング

=== クエストフロー（依頼→クエスト化→受注→完了）

[plantuml, target="story-swimlane-quest", format="svg"]
----
@startuml

|Requester|
start
group US-01: 依頼登録
  :依頼票を作成する;
  :自分の依頼一覧を確認する;
end group

|Receptionist|
group US-02: 依頼をクエスト化
  :依頼一覧を確認する;
  :依頼詳細を確認する;
  :クエスト情報を入力する;
  :クエスト票として登録する（募集中にする）;
end group

|Adventurer|
group US-03〜05: クエスト受注と完了
  :募集中クエスト一覧を閲覧する;
    note right
        US-03
    end note
  :クエストを受注する;
    note right
        US-04
    end note
  :自分のクエスト一覧を閲覧する;
    note right
        US-05
    end note
  :完了報告を登録する;
end group

|Receptionist|
group US-09: クエスト達成確認
  :完了報告の内容を確認する;
  :達成確認を記録する;
end group

|Requester|
group US-10: 完了通知
  :完了通知を受け取る;
end group
stop
@enduml
----

=== 素材納品フロー（納品→鑑定→買い取り）

[plantuml, target="story-swimlane-material", format="svg"]
----
@startuml
' アクティビティ図＋スイムレーン（partition）＋ group で枠を定義

|Adventurer|
start
group US-06: 素材納品申請
  :素材納品申請を作成する;
  :自分の納品申請一覧を確認する;
end group

|Appraiser|
group US-07: 素材鑑定
  :納品申請一覧を確認する;
  :納品内容を確認する;
  :鑑定ランクと報酬額を設定する;
end group

|Receptionist|
group US-08: 買い取り
  :鑑定結果を確認する;
  :買い取りを記録する;
end group
stop
@enduml
----
