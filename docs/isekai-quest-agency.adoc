= 異世界クエスト斡旋アプリ
:toc: left

== プロダクトビジョン

異世界クエスト斡旋アプリは、異世界における「依頼者」「受付嬢」「冒険者」「会計係」の間で行われる以下の業務を管理するアプリケーションである。

* 依頼の登録
* 依頼内容の確認およびクエスト化
* クエストの受注・遂行・完了
* 素材納品と報酬支払い

これらをシステム上で一元的に扱えるようにすることで、関係者間の情報の非対称性を解消し、作業効率を高める。

== ロール（役割）

* **依頼者（Requester）**  
  クエストの元となる依頼を登録する。

* **受付嬢（Receptionist）**  
  登録された依頼を確認し、クエスト票として整形する。

* **冒険者（Adventurer）**  
  公開されたクエストを受注し、遂行・完了報告を行う。

* **会計係（Treasurer）**  
  素材納品に対する報酬支払い記録を行う。受付嬢が兼務する場合もある。

== プロダクトバックログ（大分類）

* 依頼の作成
* 依頼内容の確認およびクエスト化
* クエスト一覧表示・受注
* クエスト遂行・完了報告
* 素材納品申請
* 素材評価・報酬額設定
* 報酬支払い記録
* ユーザー管理（ロール設定）
* 通知
* ログ・履歴管理

== ユーザーストーリー

[cols="1,1,5,5"]
|===
|ID |ロール |行動（〜したい） |目的（〜するため）

|US-01
|依頼者
|依頼票を作成したい
|依頼内容をギルドに伝えるため

|US-02
|受付嬢
|依頼内容を確認し、クエスト票を作成したい
|冒険者が受注できる形に整えるため

|US-03
|冒険者
|募集中のクエスト一覧を閲覧したい
|受注するクエストを選ぶため

|US-04
|冒険者
|クエストを受注したい
|作業を開始するため

|US-05
|冒険者
|完了報告を登録したい
|ギルドが対応結果を確認できるようにするため

|US-06
|冒険者
|採取素材を納品申請したい
|活動内容に応じた報酬を得るため

|US-07
|受付嬢
|納品素材を評価し、報酬額を設定したい
|適切な報酬を決定するため

|US-08
|会計係
|報酬支払いを記録したい
|ギルドの支払い状況を管理するため
|===

== ストーリーマッピング

=== クエストフロー（依頼→クエスト化→受注→完了）

[plantuml, target="story-swimlane-quest", format="svg"]
----
@startuml

|Requester|
start
group US-01: 依頼登録
  :依頼票を作成する;
  :自分の依頼一覧を確認する;
end group

|Receptionist|
group US-02: 依頼をクエスト化
  :依頼一覧を確認する;
  :依頼詳細を確認する;
  :クエスト情報を入力する;
  :クエスト票として登録する（募集中にする）;
end group

|Adventurer|
group US-03〜05: クエスト受注と完了
  :募集中クエスト一覧を閲覧する;
    note right
        US-03
    end note
  :クエストを受注する;
    note right
        US-04
    end note
  :自分のクエスト一覧を閲覧する;
    note right
        US-05
    end note
  :進捗コメントを入力する;
  :完了報告を登録する;
end group
stop
@enduml
----

=== 素材納品フロー（納品→評価→支払い）

[plantuml, target="story-swimlane-material", format="svg"]
----
@startuml
' アクティビティ図＋スイムレーン（partition）＋ group で枠を定義

|Adventurer|
start
group US-06: 素材納品申請
  :素材納品申請を作成する;
  :自分の納品申請一覧を確認する;
end group

|Receptionist|
group US-07: 素材評価
  :納品申請一覧を確認する;
  :納品内容を確認する;
  :評価ランクと報酬額を設定する;
end group

|Treasurer|
group US-08: 報酬支払い
  :支払い待ち一覧を確認する;
  :支払情報を入力する;
  :支払い済みに更新する;
end group
stop
@enduml
----


== MVP（Minimum Viable Product）

MVP では以下を対象とする。

* 依頼者が依頼票を作成・参照できる
* 受付嬢が依頼票を確認し、クエスト票を作成できる
* 冒険者がクエストを一覧閲覧し、受注・完了報告できる
* クエストのステータス遷移が行える
* ロールに応じて操作可能な範囲が異なる

素材納品および報酬支払いに関する機能は、MVP 以降のスプリントで実装する。